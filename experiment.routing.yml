# When 'experiment' permission is created modify _permission
# with _entity_access key.
entity.experiment.list:
  path: '/admin/structure/experiment'
  defaults:
    _entity_list: 'experiment'
    _title: 'Experiments'
  requirements:
    _permission: 'access content'
  options:
    _admin_route: TRUE

entity.experiment.add_form:
  path: '/admin/structure/experiment/add'
  defaults:
    _entity_form: experiment.add
    _title: 'Add experiment'
  requirements:
    _permission: 'access content'
  options:
    _admin_route: TRUE

entity.experiment.edit_form:
  path: '/admin/structure/experiment/manage/{experiment}'
  defaults:
    _entity_form: experiment.edit
    _title: 'Edit experiment'
  requirements:
    _permission: 'access content'
  options:
    _admin_route: TRUE

entity.experiment.delete_form:
  path: '/admin/structure/experiment/manage/{experiment}/delete'
  defaults:
    _entity_form: experiment.delete
    _title: 'Delete experiment'
  requirements:
    _permission: 'access content'
  options:
    _admin_route: TRUE

experiment.block.admin_configure:
  path: '/admin/structure/experiment/add/{plugin_id}/{view_mode}/{selected_links}'
  defaults:
    _form: '\Drupal\experiment\Form\BlockPreviewForm'
    _title: 'Configure success condition for block'
  requirements:
    _permission: 'access content'
    # here we need something more like _permission: 'access experiments'

experiment.select:
  path: '/experiment/{experiment}'
  defaults:
    _controller: '\Drupal\experiment\Controller\ExperimentController::getBlockContent'
  requirements:
    _permission: 'access content'
    _method: GET
#    This should replace the _method key after update to Symfony 3.0
#    methods: GET

experiment.update:
  path: '/experiment/{experiment}'
  defaults:
    _controller: '\Drupal\experiment\Controller\ExperimentController::updateExperimentResults'
  requirements:
    _permission: 'access content'
    _method: POST
#    methods: POST

experiment.results:
  path: '/admin/structure/experiment/{experiment}/results'
  defaults:
    _controller: '\Drupal\experiment\Controller\ExperimentController::experimentResults'
    _title: 'Experiment results'
  requirements:
    _permission: 'access content'

